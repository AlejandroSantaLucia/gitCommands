<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comandos y uso Git</title>
    <link rel="stylesheet" href="css/estilos.css">
</head>
<body>
    <h6 class="fixed" id="changeWeb">Cambiar a versión nocturna</h6>
    <h1>Comandos más usados:</h1>
    <ul>
        <li><b>git init:</b> se usa para iniciar un nuevo repositorio de Git</li>
        <li><b>git config --global user.name "Nombre":</b> Configura nombre usuario</li>
        <li><b>git config --global user.email "email":</b> Configura email usuario</li>
        <li><b>git status: </b>Muestra el estado de actual de los archivos ubicados en el área de staging</li>
        <li><b>git add nombreArhivo.extension: </b>Agrega al área de staging el o los archivos.</li>
        <li><b>git commit -m "Descripcion commit": </b>Agrega los cambios a la BD del repositorio de git</li>
        <li><b>git commit -am "Descripción commit": </b>Nos ahorra el tener que utilizar <b>git commit .</b>, este comando solo es válido para archivos que ya existen en el repositorio, no afectará a archivos nuevos que no hayan sido agregados con add</li>
        <li><b>git commit:</b> Abrirá el editor Vim para poder agregar un comentario, siempre es obligatorio agregar un comentario para el commit. Para poder editar el comit usar "ESC  i". Para guardar cambios ESC + SHIFT + Z Z</li>
        <li><b>git log: </b>Muestra el historial detallado con commit e id, de todos los commits en dicho repositorio</li>
        <li><b>git diff: </b>Permite ver las diferencias entre el staging y nuestro archivo en local. tiene las variaciones <b>git diff id1 id2</b> donde se comparan dos versiones según los id del commit seleccionado. y <b>git diff --stat</b> donde ves las diferencias más resumidas.</li>
        <li><b>git show: </b>Se utiliza para ver el commit y la rama en el que te encuentras actualmente.</li>
    </ul>

    <h1>Comandos importantes:</h1>
    <p>Estos comandos se separan ya que tienen funciones muy importantes.</p>
    <ul>
        <li><b>git reset idCommit --hard/soft</b> Este comando se encarga de regresar a una versión especificada. Se debe tener cuidado con este comando, ya que borrará absolutamente todos los cambios realizados despues de dicho commit. existen dos variastes para el mismo. <b>--hard</b> hará que regrese por completo todo a la versión elegida, perdiendo incluso, los cambios en staging. <b>--soft</b> cumple el mismo rol, pero mantiene los cambios en staging para su posterior commit. </li>
        <li><b>git reset HEAD (Me encanta XD): </b>Regresa todos los cambios en staging como unstaged. Es decir, revierte el git add.</li>
        <li><b>git checkout idCommit archivo.extension:</b> Obtiene la versión especificada de dicho archivo. PERO, no elimina sus versiones posteriores. La versión obtenida se tomará como untracked y podrá ser agregada al staging para realizar commit y crear una nueva versión.</li>
        <li><b>git rm --cached:</b> Elimina los archivos del área de Staging y del próximo commit pero los mantiene en nuestro disco duro.</li>
        <li><b>git rm --force:</b> Elimina los archivos del área de Staging y de nuestro disco duro.</li>
        <ul><li><p>Para mayor información hasta acá leer: <a href="https://platzi.com/clases/1557-git-github/23295-git-reset-vs-git-rm/">Este post de Platzi (necesitas tener suscripción).</a></p></li></ul>
    </ul>
    <br>

    <h1>Comandos en ramas</h1>
    <p>Estos son los comandos aplicados para manejarse entre ramas, crear nuevas ramas, etc.</p>
    <ul>
        <li><b>git branch nameBranch:</b> Se utiliza para crear una nueva rama.</li>
        <li><b>git checkout nameBranch</b> Se utiliza para dirigirse hacia la rama elegida.</li>
        <li><b>git merge nombreRama: </b> Este comando es <b>súper importante</b>, se utiliza cuando quieres unir los cambios entre 2 ramas. <br> Cuando tienes los cambios de una nueva que creaste y ya les hiciste commit, puedes hacer un merge para fusionarlos con tu rama de master. El proceso puede ser MASTER -> RAMA_NUEVA o RAMA_NUEVA -> MASTER. Cuando quieres dejar todo en master para tener todo en la rama principal, debe usar la segunda opción.</li><br>
        <ul>
            <li><b>Conflictos: </b>En GIT, los conflictos aparecen cuando existen diferencias en las mismas líneas de código de los archivos. Ya sea que un compañero modifico la misma línea de un archivo CSS que tú y tienen diferentes cosas. 
            <br> Los conflictos son fáciles de solucionar y no debe generarte caos ni confusión. La consola de GIT te indicará el estatus del merge que intentaste realizar. <br> <b>Auto-merging archivo.extension</b> indicará un merge correcto y <b>CONFLICT (Content) archivo.extension</b> indicará un conflicto.
            <br><br>
            <img src="img/screenshot_error_merge.png" alt="error de consola al realizar merge" />
            <br><br>
            Al revisar nuestro archivo en conflicto, encontraremos algo muy peculiar en el, GIT nos muestra exactamente cual fue la línea en conflictos y cuales son las diferencias entre nuestra rama actual y la que queremos obtener. Así se debe ver al usar el bloc de notas:
            <br><br>
            <img src="img/screenshot_error_merge_blocNotas.png" alt="diferencias de código bloc de notas" />
            <br><br>
            Debemos elegir entre el código que deseamos dejar en el repositorio y para esto, debemos comunicarnos con la persona que escribió el código (si es que estamos trabajando colaborativamente con alguien más) para decidir que código debe irse a la versión del merge. Posterior a este paso, se deben comentar la línea de <b>"<<<<"</b>, las de <b>"===="</b>  y las de <b>">>>>"</b>  junto con el código que no irá al repositorio.
            <br>
            Se deben guardar los cambios en el archivo y realizar un nuevo <b>git add .</b> además de un <b>git commit -m "Comentario relacionado con la solución del conflicto en el merge"</b>
            <br>
            <b>Adicional:</b> Si usar VSCode, podrás ver que el te da una sugerencia de que hacer con los cambios:
            <br><br>
            <img src="img/screenshot_error_merge_code.png" alt="diferencias de código VSCode" />
            <br><br>
            Si eliges <b>Accept Current Change</b> estarás dejando los cambios de la rama actual, en cambio, si elgies <b>Accept Incoming Change</b> estarás obteniendo los cambios de la rama desde la cual estás obteniendo los cambios.
            </li>
        </ul>

    </ul>
    <script>
        var btnVision = document.getElementById("changeWeb");
        btnVision.addEventListener("click", function (e) {
            var txtBtnVision = btnVision.innerText;

            if (txtBtnVision == "Cambiar a versión nocturna") {
                document.body.style.backgroundColor = '#282A35';
                document.body.style.color = '#FFFFFF';
                btnVision.innerText = "Cambiar a versión normal";
            } else {
                document.body.style.backgroundColor = '#FFFFFF';
                document.body.style.color = '#000000';
                btnVision.innerText = "Cambiar a versión nocturna";
            }
        });
    </script>
</body>
</html>